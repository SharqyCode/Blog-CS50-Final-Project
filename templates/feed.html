{% extends 'layout_logged.html' %}

{% block title %}
Blog
{% endblock %}

{% block main%}
<main class="bg-slate-300">
    <div class="container mx-auto px-4 pb-10 pt-10 lg:px-0">
        <div
            class="text-purple-500  w-fit p-4 mx-auto text-center text-3xl font-bold tracking-wider bg-white shadow-lg">
            FEED</div>
        {% if posts %}
        <div>
            {% for post in posts %}
            <div class="mx-auto bg-white rounded-lg overflow-hidden break-words mt-10 sm:w-[600px] ">
                <div
                    class="flex gap-2 items-center px-4 py-2 border-b-4 border-purple-500 bg-gradient-to-br from-purple-500 to-pink-500">
                    <img class="h-[40px] w-[40px] border-2 border-white rounded-full" src="{{ post.pfp }}" alt="">
                    <div class="flex flex-col gap-1 text-sm">
                        <span class=" p-1 bg-white rounded-sm">@{{ post.header.username }}</span>
                        <span class="text-xs text-white">[{{ post.header.date }}]</span>
                    </div>
                </div>
                <p class="p-4">{% autoescape false %}{{ post.body }} {% endautoescape %}</p>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p class=" text-center mt-10">No posts to show. <a class="text-purple-500" href="/editor">Make a post</a></p>
        {% endif %}
    </div>
</main>
{% endblock %}